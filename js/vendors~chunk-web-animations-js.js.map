{"version":3,"sources":["webpack:///./node_modules/web-animations-js/src/scope.js","webpack:///./node_modules/web-animations-js/src/timing-utilities.js","webpack:///./node_modules/web-animations-js/src/normalize-keyframes.js","webpack:///./node_modules/web-animations-js/src/deprecation.js","webpack:///./node_modules/web-animations-js/src/web-animations-bonus-cancel-events.js","webpack:///./node_modules/web-animations-js/src/web-animations-bonus-object-form-keyframes.js","webpack:///./node_modules/web-animations-js/src/timeline.js","webpack:///./node_modules/web-animations-js/src/web-animations-next-animation.js","webpack:///./node_modules/web-animations-js/src/keyframe-effect-constructor.js","webpack:///./node_modules/web-animations-js/src/effect-callback.js","webpack:///./node_modules/web-animations-js/src/group-constructors.js"],"names":["webAnimationsShared","webAnimations1","webAnimationsNext","shared","testing","AnimationEffectTiming","this","_delay","_endDelay","_fill","_iterationStart","_iterations","_duration","_playbackRate","_direction","_easing","_easingFunction","linear","isInvalidTimingDeprecated","isDeprecated","makeTiming","timingInput","forGroup","effect","timing","fill","duration","isNaN","Object","getOwnPropertyNames","forEach","property","fills","indexOf","directions","cubic","a","b","c","d","x","f","m","start_gradient","end_gradient","start","end","mid","xEst","Math","abs","step","count","pos","stepSize","normalizeEasing","easing","styleForCleaning","document","createElement","style","animationTimingFunction","normalizedEasing","TypeError","parseEasingFunction","cubicData","cubicBezierRe","exec","apply","slice","map","Number","step1Data","step1Re","End","step2Data","step2Re","Start","middle","Middle","presets","calculatePhase","activeDuration","localTime","PhaseNone","endTime","delay","endDelay","min","PhaseBefore","PhaseAfter","PhaseActive","split","prototype","_setMember","member","value","_effect","_timingInput","_timing","normalizeTimingInput","calculateActiveDuration","_animation","_rebuildUnderlyingAnimation","playbackRate","iterationStart","direction","iterations","ease","ease-in","ease-out","ease-in-out","step-start","step-middle","step-end","numberString","RegExp","cloneTimingInput","clone","numericTimingToObject","repeatedDuration","calculateIterationProgress","phase","activeTime","fillMode","calculateActiveTime","overallProgress","iterationDuration","calculateOverallProgress","simpleIterationProgress","Infinity","calculateSimpleIterationProgress","currentIteration","floor","calculateCurrentIteration","directedProgress","playbackDirection","currentDirection","calculateDirectedProgress","antiAlias","aliases","expandShorthandAndAntiAlias","result","lastIndexOf","isNotAnimatable","longProperties","shorthandToLonghand","i","shorthandExpanderElem","longProperty","longhandValue","convertToArrayForm","effectInput","normalizedEffectInput","values","Array","isArray","keyframe","numKeyframes","length","offset","composite","push","sort","background","border","borderBottom","borderColor","borderLeft","borderRadius","borderRight","borderTop","borderWidth","flex","font","margin","outline","padding","createElementNS","borderWidthAliases","thin","medium","thick","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","fontSize","xx-small","x-small","small","large","x-large","xx-large","fontWeight","normal","bold","outlineWidth","textShadow","none","boxShadow","normalizeKeyframes","window","Symbol","iterator","from","keyframes","originalKeyframe","memberValue","isFinite","type","DOMException","NOT_SUPPORTED_ERR","name","message","everyFrameHasOffset","previousOffset","filter","previousIndex","j","spaceKeyframes","silenced","feature","date","advice","plural","auxVerb","today","Date","expiry","setMonth","getMonth","console","warn","toDateString","deprecated","Error","animate","oncancel","performance","now","AnimationCancelEvent","target","currentTime","timelineTime","bubbles","cancelable","currentTarget","defaultPrevented","eventPhase","Event","AT_TARGET","timeStamp","originalElementAnimate","Element","options","animation","call","_cancelHandlers","originalCancel","cancel","event","handlers","concat","setTimeout","handler","originalAddEventListener","addEventListener","originalRemoveEventListener","removeEventListener","index","splice","element","documentElement","animated","testOpacity","getComputedStyle","getPropertyValue","opacity","error","scope","webAnimationsNextTick","t","timeline","_discardAnimations","_animations","ticking","requestAnimationFrame","originalRequestAnimationFrame","_updateAnimationsPromises","AnimationTimeline","getAnimations","animationsWithPromises","_updatePromises","playState","_play","Animation","restartWebAnimationsNextTick","play","remove","defineProperty","configurable","get","e","id","_id","_timeline","_sequenceNumber","sequenceNumber","_holdTime","_paused","_isGroup","_childAnimations","_callback","_oldPlayState","oldPlayState","newPlayState","_readyPromise","_rejectReadyPromise","_resolveReadyPromise","_finishedPromise","_rejectFinishedPromise","_resolveFinishedPromise","oldPlaybackRate","oldPaused","oldStartTime","oldCurrentTime","hadUnderlying","startTime","_wrapper","KeyframeEffect","newUnderlyingAnimationForKeyframeEffect","bindAnimationForKeyframeEffect","SequenceEffect","GroupEffect","newUnderlyingAnimationForGroup","bindAnimationForGroup","_onsample","bindAnimationForCustomEffect","pause","_updateChildren","childAnimation","_arrangeChildren","groupChildDuration","bind","_setExternalAnimation","children","_constructChildAnimations","_removeChildAnimations","child","finished","Promise","resolve","reject","ABORT_ERR","ready","onfinish","v","sign","MAX_VALUE","_register","_forEachChild","awaitStartTime","time","finish","reverse","wrapped","pop","KeyframeList","_frames","updatePendingGroups","updated","pendingGroups","shift","disassociate","removeMulti","effects","oldParents","_parent","_rebuild","_normalizedKeyframes","_keyframes","getFrames","onsample","callback","parent","nullTarget","keyframeEffect","groupAnimation","originalGetComputedStyle","enumerable","arguments","register","_registered","callbacks","tick","updating","left","right","effectFunction","isKeyframeEffect","last","node","constructor","_reparent","_isAncestor","newChildren","_putChild","args","isAppend","HIERARCHY_REQUEST_ERR","unshift","append","prepend","firstChild","lastChild","clonedTiming","clonedChildren","create","total","max","group","underlyingAnimation","underlyingEffect","tf"],"mappings":"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","file":"js/vendors~chunk-web-animations-js.js","sourcesContent":["// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar webAnimationsShared = {};\nvar webAnimations1 = {};\nvar webAnimationsNext = {};\n\nif (!WEB_ANIMATIONS_TESTING)\n  var webAnimationsTesting = null;\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, testing) {\n\n  var fills = 'backwards|forwards|both|none'.split('|');\n  var directions = 'reverse|alternate|alternate-reverse'.split('|');\n  var linear = function(x) { return x; };\n\n  function cloneTimingInput(timingInput) {\n    if (typeof timingInput == 'number') {\n      return timingInput;\n    }\n    var clone = {};\n    for (var m in timingInput) {\n      clone[m] = timingInput[m];\n    }\n    return clone;\n  }\n\n  function AnimationEffectTiming() {\n    this._delay = 0;\n    this._endDelay = 0;\n    this._fill = 'none';\n    this._iterationStart = 0;\n    this._iterations = 1;\n    this._duration = 0;\n    this._playbackRate = 1;\n    this._direction = 'normal';\n    this._easing = 'linear';\n    this._easingFunction = linear;\n  }\n\n  function isInvalidTimingDeprecated() {\n    return shared.isDeprecated('Invalid timing inputs', '2016-03-02', 'TypeError exceptions will be thrown instead.', true);\n  }\n\n  AnimationEffectTiming.prototype = {\n    _setMember: function(member, value) {\n      this['_' + member] = value;\n      if (this._effect) {\n        this._effect._timingInput[member] = value;\n        this._effect._timing = shared.normalizeTimingInput(this._effect._timingInput);\n        this._effect.activeDuration = shared.calculateActiveDuration(this._effect._timing);\n        if (this._effect._animation) {\n          this._effect._animation._rebuildUnderlyingAnimation();\n        }\n      }\n    },\n    get playbackRate() {\n      return this._playbackRate;\n    },\n    set delay(value) {\n      this._setMember('delay', value);\n    },\n    get delay() {\n      return this._delay;\n    },\n    set endDelay(value) {\n      this._setMember('endDelay', value);\n    },\n    get endDelay() {\n      return this._endDelay;\n    },\n    set fill(value) {\n      this._setMember('fill', value);\n    },\n    get fill() {\n      return this._fill;\n    },\n    set iterationStart(value) {\n      if ((isNaN(value) || value < 0) && isInvalidTimingDeprecated()) {\n        throw new TypeError('iterationStart must be a non-negative number, received: ' + value);\n      }\n      this._setMember('iterationStart', value);\n    },\n    get iterationStart() {\n      return this._iterationStart;\n    },\n    set duration(value) {\n      if (value != 'auto' && (isNaN(value) || value < 0) && isInvalidTimingDeprecated()) {\n        throw new TypeError('duration must be non-negative or auto, received: ' + value);\n      }\n      this._setMember('duration', value);\n    },\n    get duration() {\n      return this._duration;\n    },\n    set direction(value) {\n      this._setMember('direction', value);\n    },\n    get direction() {\n      return this._direction;\n    },\n    set easing(value) {\n      this._easingFunction = parseEasingFunction(normalizeEasing(value));\n      this._setMember('easing', value);\n    },\n    get easing() {\n      return this._easing;\n    },\n    set iterations(value) {\n      if ((isNaN(value) || value < 0) && isInvalidTimingDeprecated()) {\n        throw new TypeError('iterations must be non-negative, received: ' + value);\n      }\n      this._setMember('iterations', value);\n    },\n    get iterations() {\n      return this._iterations;\n    }\n  };\n\n  function makeTiming(timingInput, forGroup, effect) {\n    var timing = new AnimationEffectTiming();\n    if (forGroup) {\n      timing.fill = 'both';\n      timing.duration = 'auto';\n    }\n    if (typeof timingInput == 'number' && !isNaN(timingInput)) {\n      timing.duration = timingInput;\n    } else if (timingInput !== undefined) {\n      Object.getOwnPropertyNames(timingInput).forEach(function(property) {\n        if (timingInput[property] != 'auto') {\n          if (typeof timing[property] == 'number' || property == 'duration') {\n            if (typeof timingInput[property] != 'number' || isNaN(timingInput[property])) {\n              return;\n            }\n          }\n          if ((property == 'fill') && (fills.indexOf(timingInput[property]) == -1)) {\n            return;\n          }\n          if ((property == 'direction') && (directions.indexOf(timingInput[property]) == -1)) {\n            return;\n          }\n          if (property == 'playbackRate' && timingInput[property] !== 1 && shared.isDeprecated('AnimationEffectTiming.playbackRate', '2014-11-28', 'Use Animation.playbackRate instead.')) {\n            return;\n          }\n          timing[property] = timingInput[property];\n        }\n      });\n    }\n    return timing;\n  }\n\n  function numericTimingToObject(timingInput) {\n    if (typeof timingInput == 'number') {\n      if (isNaN(timingInput)) {\n        timingInput = { duration: 0 };\n      } else {\n        timingInput = { duration: timingInput };\n      }\n    }\n    return timingInput;\n  }\n\n  function normalizeTimingInput(timingInput, forGroup) {\n    timingInput = shared.numericTimingToObject(timingInput);\n    return makeTiming(timingInput, forGroup);\n  }\n\n  function cubic(a, b, c, d) {\n    if (a < 0 || a > 1 || c < 0 || c > 1) {\n      return linear;\n    }\n    return function(x) {\n      if (x <= 0) {\n        var start_gradient = 0;\n        if (a > 0)\n          start_gradient = b / a;\n        else if (!b && c > 0)\n          start_gradient = d / c;\n        return start_gradient * x;\n      }\n      if (x >= 1) {\n        var end_gradient = 0;\n        if (c < 1)\n          end_gradient = (d - 1) / (c - 1);\n        else if (c == 1 && a < 1)\n          end_gradient = (b - 1) / (a - 1);\n        return 1 + end_gradient * (x - 1);\n      }\n\n      var start = 0, end = 1;\n      function f(a, b, m) { return 3 * a * (1 - m) * (1 - m) * m + 3 * b * (1 - m) * m * m + m * m * m};\n      while (start < end) {\n        var mid = (start + end) / 2;\n        var xEst = f(a, c, mid);\n        if (Math.abs(x - xEst) < 0.00001) {\n          return f(b, d, mid);\n        }\n        if (xEst < x) {\n          start = mid;\n        } else {\n          end = mid;\n        }\n      }\n      return f(b, d, mid);\n    }\n  }\n\n  var Start = 1;\n  var Middle = 0.5;\n  var End = 0;\n\n  function step(count, pos) {\n    return function(x) {\n      if (x >= 1) {\n        return 1;\n      }\n      var stepSize = 1 / count;\n      x += pos * stepSize;\n      return x - x % stepSize;\n    }\n  }\n\n  var presets = {\n    'ease': cubic(0.25, 0.1, 0.25, 1),\n    'ease-in': cubic(0.42, 0, 1, 1),\n    'ease-out': cubic(0, 0, 0.58, 1),\n    'ease-in-out': cubic(0.42, 0, 0.58, 1),\n    'step-start': step(1, Start),\n    'step-middle': step(1, Middle),\n    'step-end': step(1, End)\n  };\n\n  var styleForCleaning = null;\n  var numberString = '\\\\s*(-?\\\\d+\\\\.?\\\\d*|-?\\\\.\\\\d+)\\\\s*';\n  var cubicBezierRe = new RegExp('cubic-bezier\\\\(' + numberString + ',' + numberString + ',' + numberString + ',' + numberString + '\\\\)');\n  var step1Re = /steps\\(\\s*(\\d+)\\s*\\)/;\n  var step2Re = /steps\\(\\s*(\\d+)\\s*,\\s*(start|middle|end)\\s*\\)/;\n\n  function normalizeEasing(easing) {\n    if (!styleForCleaning) {\n      styleForCleaning = document.createElement('div').style;\n    }\n    styleForCleaning.animationTimingFunction = '';\n    styleForCleaning.animationTimingFunction = easing;\n    var normalizedEasing = styleForCleaning.animationTimingFunction;\n    if (normalizedEasing == '' && isInvalidTimingDeprecated()) {\n      throw new TypeError(easing + ' is not a valid value for easing');\n    }\n    return normalizedEasing;\n  }\n\n  function parseEasingFunction(normalizedEasing) {\n    if (normalizedEasing == 'linear') {\n      return linear;\n    }\n    var cubicData = cubicBezierRe.exec(normalizedEasing);\n    if (cubicData) {\n      return cubic.apply(this, cubicData.slice(1).map(Number));\n    }\n    var step1Data = step1Re.exec(normalizedEasing);\n    if (step1Data) {\n      return step(Number(step1Data[1]), End);\n    }\n    var step2Data = step2Re.exec(normalizedEasing);\n    if (step2Data) {\n      return step(Number(step2Data[1]), {'start': Start, 'middle': Middle, 'end': End}[step2Data[2]]);\n    }\n    var preset = presets[normalizedEasing];\n    if (preset) {\n      return preset;\n    }\n    // At this point none of our parse attempts succeeded; the easing is invalid.\n    // Fall back to linear in the interest of not crashing the page.\n    return linear;\n  }\n\n  function calculateActiveDuration(timing) {\n    return Math.abs(repeatedDuration(timing) / timing.playbackRate);\n  }\n\n  function repeatedDuration(timing) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-active-duration\n    if (timing.duration === 0 || timing.iterations === 0) {\n      return 0;\n    }\n    return timing.duration * timing.iterations;\n  }\n\n  var PhaseNone = 0;\n  var PhaseBefore = 1;\n  var PhaseAfter = 2;\n  var PhaseActive = 3;\n\n  function calculatePhase(activeDuration, localTime, timing) {\n    // https://drafts.csswg.org/web-animations/#animation-effect-phases-and-states\n    if (localTime == null) {\n      return PhaseNone;\n    }\n\n    var endTime = timing.delay + activeDuration + timing.endDelay;\n    if (localTime < Math.min(timing.delay, endTime)) {\n      return PhaseBefore;\n    }\n    if (localTime >= Math.min(timing.delay + activeDuration, endTime)) {\n      return PhaseAfter;\n    }\n\n    return PhaseActive;\n  }\n\n  function calculateActiveTime(activeDuration, fillMode, localTime, phase, delay) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-active-time\n    switch (phase) {\n      case PhaseBefore:\n        if (fillMode == 'backwards' || fillMode == 'both')\n          return 0;\n        return null;\n      case PhaseActive:\n        return localTime - delay;\n      case PhaseAfter:\n        if (fillMode == 'forwards' || fillMode == 'both')\n          return activeDuration;\n        return null;\n      case PhaseNone:\n        return null;\n    }\n  }\n\n  function calculateOverallProgress(iterationDuration, phase, iterations, activeTime, iterationStart) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-overall-progress\n    var overallProgress = iterationStart;\n    if (iterationDuration === 0) {\n      if (phase !== PhaseBefore) {\n        overallProgress += iterations;\n      }\n    } else {\n      overallProgress += activeTime / iterationDuration;\n    }\n    return overallProgress;\n  }\n\n  function calculateSimpleIterationProgress(overallProgress, iterationStart, phase, iterations, activeTime, iterationDuration) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-simple-iteration-progress\n\n    var simpleIterationProgress = (overallProgress === Infinity) ? iterationStart % 1 : overallProgress % 1;\n    if (simpleIterationProgress === 0 && phase === PhaseAfter && iterations !== 0 &&\n        (activeTime !== 0 || iterationDuration === 0)) {\n      simpleIterationProgress = 1;\n    }\n    return simpleIterationProgress;\n  }\n\n  function calculateCurrentIteration(phase, iterations, simpleIterationProgress, overallProgress) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-current-iteration\n    if (phase === PhaseAfter && iterations === Infinity) {\n      return Infinity;\n    }\n    if (simpleIterationProgress === 1) {\n      return Math.floor(overallProgress) - 1;\n    }\n    return Math.floor(overallProgress);\n  }\n\n  function calculateDirectedProgress(playbackDirection, currentIteration, simpleIterationProgress) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-directed-progress\n    var currentDirection = playbackDirection;\n    if (playbackDirection !== 'normal' && playbackDirection !== 'reverse') {\n      var d = currentIteration;\n      if (playbackDirection === 'alternate-reverse') {\n        d += 1;\n      }\n      currentDirection = 'normal';\n      if (d !== Infinity && d % 2 !== 0) {\n        currentDirection = 'reverse';\n      }\n    }\n    if (currentDirection === 'normal') {\n      return simpleIterationProgress;\n    }\n    return 1 - simpleIterationProgress;\n  }\n\n  function calculateIterationProgress(activeDuration, localTime, timing) {\n    var phase = calculatePhase(activeDuration, localTime, timing);\n    var activeTime = calculateActiveTime(activeDuration, timing.fill, localTime, phase, timing.delay);\n    if (activeTime === null)\n      return null;\n\n    var overallProgress = calculateOverallProgress(timing.duration, phase, timing.iterations, activeTime, timing.iterationStart);\n    var simpleIterationProgress = calculateSimpleIterationProgress(overallProgress, timing.iterationStart, phase, timing.iterations, activeTime, timing.duration);\n    var currentIteration = calculateCurrentIteration(phase, timing.iterations, simpleIterationProgress, overallProgress);\n    var directedProgress = calculateDirectedProgress(timing.direction, currentIteration, simpleIterationProgress);\n\n    // https://drafts.csswg.org/web-animations/#calculating-the-transformed-progress\n    // https://drafts.csswg.org/web-animations/#calculating-the-iteration-progress\n    return timing._easingFunction(directedProgress);\n  }\n\n  shared.cloneTimingInput = cloneTimingInput;\n  shared.makeTiming = makeTiming;\n  shared.numericTimingToObject = numericTimingToObject;\n  shared.normalizeTimingInput = normalizeTimingInput;\n  shared.calculateActiveDuration = calculateActiveDuration;\n  shared.calculateIterationProgress = calculateIterationProgress;\n  shared.calculatePhase = calculatePhase;\n  shared.normalizeEasing = normalizeEasing;\n  shared.parseEasingFunction = parseEasingFunction;\n\n  if (WEB_ANIMATIONS_TESTING) {\n    testing.normalizeTimingInput = normalizeTimingInput;\n    testing.normalizeEasing = normalizeEasing;\n    testing.parseEasingFunction = parseEasingFunction;\n    testing.calculateActiveDuration = calculateActiveDuration;\n    testing.calculatePhase = calculatePhase;\n    testing.PhaseNone = PhaseNone;\n    testing.PhaseBefore = PhaseBefore;\n    testing.PhaseActive = PhaseActive;\n    testing.PhaseAfter = PhaseAfter;\n  }\n\n})(webAnimationsShared, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, testing) {\n  var shorthandToLonghand = {\n    background: [\n      'backgroundImage',\n      'backgroundPosition',\n      'backgroundSize',\n      'backgroundRepeat',\n      'backgroundAttachment',\n      'backgroundOrigin',\n      'backgroundClip',\n      'backgroundColor'\n    ],\n    border: [\n      'borderTopColor',\n      'borderTopStyle',\n      'borderTopWidth',\n      'borderRightColor',\n      'borderRightStyle',\n      'borderRightWidth',\n      'borderBottomColor',\n      'borderBottomStyle',\n      'borderBottomWidth',\n      'borderLeftColor',\n      'borderLeftStyle',\n      'borderLeftWidth'\n    ],\n    borderBottom: [\n      'borderBottomWidth',\n      'borderBottomStyle',\n      'borderBottomColor'\n    ],\n    borderColor: [\n      'borderTopColor',\n      'borderRightColor',\n      'borderBottomColor',\n      'borderLeftColor'\n    ],\n    borderLeft: [\n      'borderLeftWidth',\n      'borderLeftStyle',\n      'borderLeftColor'\n    ],\n    borderRadius: [\n      'borderTopLeftRadius',\n      'borderTopRightRadius',\n      'borderBottomRightRadius',\n      'borderBottomLeftRadius'\n    ],\n    borderRight: [\n      'borderRightWidth',\n      'borderRightStyle',\n      'borderRightColor'\n    ],\n    borderTop: [\n      'borderTopWidth',\n      'borderTopStyle',\n      'borderTopColor'\n    ],\n    borderWidth: [\n      'borderTopWidth',\n      'borderRightWidth',\n      'borderBottomWidth',\n      'borderLeftWidth'\n    ],\n    flex: [\n      'flexGrow',\n      'flexShrink',\n      'flexBasis'\n    ],\n    font: [\n      'fontFamily',\n      'fontSize',\n      'fontStyle',\n      'fontVariant',\n      'fontWeight',\n      'lineHeight'\n    ],\n    margin: [\n      'marginTop',\n      'marginRight',\n      'marginBottom',\n      'marginLeft'\n    ],\n    outline: [\n      'outlineColor',\n      'outlineStyle',\n      'outlineWidth'\n    ],\n    padding: [\n      'paddingTop',\n      'paddingRight',\n      'paddingBottom',\n      'paddingLeft'\n    ]\n  };\n\n  var shorthandExpanderElem = document.createElementNS('http://www.w3.org/1999/xhtml', 'div');\n\n  var borderWidthAliases = {\n    thin: '1px',\n    medium: '3px',\n    thick: '5px'\n  };\n\n  var aliases = {\n    borderBottomWidth: borderWidthAliases,\n    borderLeftWidth: borderWidthAliases,\n    borderRightWidth: borderWidthAliases,\n    borderTopWidth: borderWidthAliases,\n    fontSize: {\n      'xx-small': '60%',\n      'x-small': '75%',\n      'small': '89%',\n      'medium': '100%',\n      'large': '120%',\n      'x-large': '150%',\n      'xx-large': '200%'\n    },\n    fontWeight: {\n      normal: '400',\n      bold: '700'\n    },\n    outlineWidth: borderWidthAliases,\n    textShadow: {\n      none: '0px 0px 0px transparent'\n    },\n    boxShadow: {\n      none: '0px 0px 0px 0px transparent'\n    }\n  };\n\n  function antiAlias(property, value) {\n    if (property in aliases) {\n      return aliases[property][value] || value;\n    }\n    return value;\n  }\n\n  function isNotAnimatable(property) {\n    // https://drafts.csswg.org/web-animations/#concept-not-animatable\n    return property === 'display' || property.lastIndexOf('animation', 0) === 0 || property.lastIndexOf('transition', 0) === 0;\n  }\n\n  // This delegates parsing shorthand value syntax to the browser.\n  function expandShorthandAndAntiAlias(property, value, result) {\n    if (isNotAnimatable(property)) {\n      return;\n    }\n    var longProperties = shorthandToLonghand[property];\n    if (longProperties) {\n      shorthandExpanderElem.style[property] = value;\n      for (var i in longProperties) {\n        var longProperty = longProperties[i];\n        var longhandValue = shorthandExpanderElem.style[longProperty];\n        result[longProperty] = antiAlias(longProperty, longhandValue);\n      }\n    } else {\n      result[property] = antiAlias(property, value);\n    }\n  };\n\n  function convertToArrayForm(effectInput) {\n    var normalizedEffectInput = [];\n\n    for (var property in effectInput) {\n      if (property in ['easing', 'offset', 'composite']) {\n        continue;\n      }\n\n      var values = effectInput[property];\n      if (!Array.isArray(values)) {\n        values = [values];\n      }\n\n      var keyframe;\n      var numKeyframes = values.length;\n      for (var i = 0; i < numKeyframes; i++) {\n        keyframe = {};\n\n        if ('offset' in effectInput) {\n          keyframe.offset = effectInput.offset;\n        } else if (numKeyframes == 1) {\n          keyframe.offset = 1.0;\n        } else {\n          keyframe.offset = i / (numKeyframes - 1.0);\n        }\n\n        if ('easing' in effectInput) {\n          keyframe.easing = effectInput.easing;\n        }\n\n        if ('composite' in effectInput) {\n          keyframe.composite = effectInput.composite;\n        }\n\n        keyframe[property] = values[i];\n\n        normalizedEffectInput.push(keyframe);\n      }\n    }\n\n    normalizedEffectInput.sort(function(a, b) { return a.offset - b.offset; });\n    return normalizedEffectInput;\n  };\n\n  function normalizeKeyframes(effectInput) {\n    if (effectInput == null) {\n      return [];\n    }\n\n    if (window.Symbol && Symbol.iterator && Array.prototype.from && effectInput[Symbol.iterator]) {\n      // Handle custom iterables in most browsers by converting to an array\n      effectInput = Array.from(effectInput);\n    }\n\n    if (!Array.isArray(effectInput)) {\n      effectInput = convertToArrayForm(effectInput);\n    }\n\n    var keyframes = effectInput.map(function(originalKeyframe) {\n      var keyframe = {};\n      for (var member in originalKeyframe) {\n        var memberValue = originalKeyframe[member];\n        if (member == 'offset') {\n          if (memberValue != null) {\n            memberValue = Number(memberValue);\n            if (!isFinite(memberValue))\n              throw new TypeError('Keyframe offsets must be numbers.');\n            if (memberValue < 0 || memberValue > 1)\n              throw new TypeError('Keyframe offsets must be between 0 and 1.');\n          }\n        } else if (member == 'composite') {\n          if (memberValue == 'add' || memberValue == 'accumulate') {\n            throw {\n              type: DOMException.NOT_SUPPORTED_ERR,\n              name: 'NotSupportedError',\n              message: 'add compositing is not supported'\n            };\n          } else if (memberValue != 'replace') {\n            throw new TypeError('Invalid composite mode ' + memberValue + '.');\n          }\n        } else if (member == 'easing') {\n          memberValue = shared.normalizeEasing(memberValue);\n        } else {\n          memberValue = '' + memberValue;\n        }\n        expandShorthandAndAntiAlias(member, memberValue, keyframe);\n      }\n      if (keyframe.offset == undefined)\n        keyframe.offset = null;\n      if (keyframe.easing == undefined)\n        keyframe.easing = 'linear';\n      return keyframe;\n    });\n\n    var everyFrameHasOffset = true;\n    var looselySortedByOffset = true;\n    var previousOffset = -Infinity;\n    for (var i = 0; i < keyframes.length; i++) {\n      var offset = keyframes[i].offset;\n      if (offset != null) {\n        if (offset < previousOffset) {\n          throw new TypeError('Keyframes are not loosely sorted by offset. Sort or specify offsets.');\n        }\n        previousOffset = offset;\n      } else {\n        everyFrameHasOffset = false;\n      }\n    }\n\n    keyframes = keyframes.filter(function(keyframe) {\n      return keyframe.offset >= 0 && keyframe.offset <= 1;\n    });\n\n    function spaceKeyframes() {\n      var length = keyframes.length;\n      if (keyframes[length - 1].offset == null)\n        keyframes[length - 1].offset = 1;\n      if (length > 1 && keyframes[0].offset == null)\n        keyframes[0].offset = 0;\n\n      var previousIndex = 0;\n      var previousOffset = keyframes[0].offset;\n      for (var i = 1; i < length; i++) {\n        var offset = keyframes[i].offset;\n        if (offset != null) {\n          for (var j = 1; j < i - previousIndex; j++)\n            keyframes[previousIndex + j].offset = previousOffset + (offset - previousOffset) * j / (i - previousIndex);\n          previousIndex = i;\n          previousOffset = offset;\n        }\n      }\n    }\n    if (!everyFrameHasOffset)\n      spaceKeyframes();\n\n    return keyframes;\n  }\n\n  shared.convertToArrayForm = convertToArrayForm;\n  shared.normalizeKeyframes = normalizeKeyframes;\n\n  if (WEB_ANIMATIONS_TESTING) {\n    testing.normalizeKeyframes = normalizeKeyframes;\n  }\n\n})(webAnimationsShared, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared) {\n\n  var silenced = {};\n\n  shared.isDeprecated = function(feature, date, advice, plural) {\n    if (WEB_ANIMATIONS_TESTING) {\n      return true;\n    }\n\n    var auxVerb = plural ? 'are' : 'is';\n    var today = new Date();\n    var expiry = new Date(date);\n    expiry.setMonth(expiry.getMonth() + 3); // 3 months grace period\n\n    if (today < expiry) {\n      if (!(feature in silenced)) {\n        console.warn('Web Animations: ' + feature + ' ' + auxVerb + ' deprecated and will stop working on ' + expiry.toDateString() + '. ' + advice);\n      }\n      silenced[feature] = true;\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  shared.deprecated = function(feature, date, advice, plural) {\n    var auxVerb = plural ? 'are' : 'is';\n    if (shared.isDeprecated(feature, date, advice, plural)) {\n      throw new Error(feature + ' ' + auxVerb + ' no longer supported. ' + advice);\n    }\n  };\n\n})(webAnimationsShared);\n","// Copyright 2016 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function() {\n\n  if (document.createElement('div').animate([]).oncancel !== undefined) {\n    return;\n  }\n\n  if (WEB_ANIMATIONS_TESTING) {\n    var now = function() { return webAnimations1.timeline.currentTime; };\n  } else if (window.performance && performance.now) {\n    var now = function() { return performance.now(); };\n  } else {\n    var now = function() { return Date.now(); };\n  }\n\n  var AnimationCancelEvent = function(target, currentTime, timelineTime) {\n    this.target = target;\n    this.currentTime = currentTime;\n    this.timelineTime = timelineTime;\n\n    this.type = 'cancel';\n    this.bubbles = false;\n    this.cancelable = false;\n    this.currentTarget = target;\n    this.defaultPrevented = false;\n    this.eventPhase = Event.AT_TARGET;\n    this.timeStamp = Date.now();\n  };\n\n  var originalElementAnimate = window.Element.prototype.animate;\n  window.Element.prototype.animate = function(effectInput, options) {\n    var animation = originalElementAnimate.call(this, effectInput, options);\n\n    animation._cancelHandlers = [];\n    animation.oncancel = null;\n\n    var originalCancel = animation.cancel;\n    animation.cancel = function() {\n      originalCancel.call(this);\n      var event = new AnimationCancelEvent(this, null, now());\n      var handlers = this._cancelHandlers.concat(this.oncancel ? [this.oncancel] : []);\n      setTimeout(function() {\n        handlers.forEach(function(handler) {\n          handler.call(event.target, event);\n        });\n      }, 0);\n    };\n\n    var originalAddEventListener = animation.addEventListener;\n    animation.addEventListener = function(type, handler) {\n      if (typeof handler == 'function' && type == 'cancel')\n        this._cancelHandlers.push(handler);\n      else\n        originalAddEventListener.call(this, type, handler);\n    };\n\n    var originalRemoveEventListener = animation.removeEventListener;\n    animation.removeEventListener = function(type, handler) {\n      if (type == 'cancel') {\n        var index = this._cancelHandlers.indexOf(handler);\n        if (index >= 0)\n          this._cancelHandlers.splice(index, 1);\n      } else {\n        originalRemoveEventListener.call(this, type, handler);\n      }\n    };\n\n    return animation;\n  };\n})();\n","// Copyright 2016 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared) {\n  // If the polyfill is being loaded in a context where Element.animate is\n  // supported but object-form syntax is not, then creating an animation\n  // using the new syntax will either have no effect or will throw an exception.\n  // In either case, we want to proceed to load this part of the polyfill.\n  //\n  // The test animation uses an opacity other than the one the element already\n  // has, and doesn't need to change during the animation for the test to work.\n  // After the test, the element's opacity will be left how we found it:\n  // - If the animation is not created, the test will leave the element's\n  //   opacity untouched at originalOpacity.\n  // - If the animation is created, it will be cancelled, and leave the\n  //   element's opacity at originalOpacity.\n  // - If the animation is somehow created and runs without being cancelled,\n  //   when it finishes after 1ms, it will cease to have any effect (because\n  //   fill is not specified), and opacity will again be left at originalOpacity.\n  var element = document.documentElement;\n  var animation = null;\n  var animated = false;\n  try {\n    var originalOpacity = getComputedStyle(element).getPropertyValue('opacity');\n    var testOpacity = originalOpacity == '0' ? '1' : '0';\n    animation = element.animate({'opacity': [testOpacity, testOpacity]},\n        {duration: 1});\n    animation.currentTime = 0;\n    animated = getComputedStyle(element).getPropertyValue('opacity') == testOpacity;\n  } catch (error) {\n  } finally {\n    if (animation)\n      animation.cancel();\n  }\n  if (animated) {\n    return;\n  }\n\n  var originalElementAnimate = window.Element.prototype.animate;\n  window.Element.prototype.animate = function(effectInput, options) {\n    if (window.Symbol && Symbol.iterator && Array.prototype.from && effectInput[Symbol.iterator]) {\n      // Handle custom iterables in most browsers by converting to an array\n      effectInput = Array.from(effectInput);\n    }\n\n    if (!Array.isArray(effectInput) && effectInput !== null) {\n      effectInput = shared.convertToArrayForm(effectInput);\n    }\n\n    return originalElementAnimate.call(this, effectInput, options);\n  };\n})(webAnimationsShared);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n(function(shared, scope, testing) {\n  var originalRequestAnimationFrame = window.requestAnimationFrame;\n  window.requestAnimationFrame = function(f) {\n    return originalRequestAnimationFrame(function(x) {\n      scope.timeline._updateAnimationsPromises();\n      f(x);\n      scope.timeline._updateAnimationsPromises();\n    });\n  };\n\n  scope.AnimationTimeline = function() {\n    this._animations = [];\n    this.currentTime = undefined;\n  };\n\n  scope.AnimationTimeline.prototype = {\n    getAnimations: function() {\n      this._discardAnimations();\n      return this._animations.slice();\n    },\n    _updateAnimationsPromises: function() {\n      scope.animationsWithPromises = scope.animationsWithPromises.filter(function(animation) {\n        return animation._updatePromises();\n      });\n    },\n    _discardAnimations: function() {\n      this._updateAnimationsPromises();\n      this._animations = this._animations.filter(function(animation) {\n        return animation.playState != 'finished' && animation.playState != 'idle';\n      });\n    },\n    _play: function(effect) {\n      var animation = new scope.Animation(effect, this);\n      this._animations.push(animation);\n      scope.restartWebAnimationsNextTick();\n      // Use animation._animation.play() here, NOT animation.play().\n      //\n      // Timeline.play calls new scope.Animation(effect) which (indirectly) calls Timeline.play on\n      // effect's children, and Animation.play is also recursive. We only need to call play on each\n      // animation in the tree once.\n      animation._updatePromises();\n      animation._animation.play();\n      animation._updatePromises();\n      return animation;\n    },\n    play: function(effect) {\n      if (effect) {\n        effect.remove();\n      }\n      return this._play(effect);\n    }\n  };\n\n  var ticking = false;\n\n  scope.restartWebAnimationsNextTick = function() {\n    if (!ticking) {\n      ticking = true;\n      requestAnimationFrame(webAnimationsNextTick);\n    }\n  };\n\n  function webAnimationsNextTick(t) {\n    var timeline = scope.timeline;\n    timeline.currentTime = t;\n    timeline._discardAnimations();\n    if (timeline._animations.length == 0)\n      ticking = false;\n    else\n      requestAnimationFrame(webAnimationsNextTick);\n  }\n\n  var timeline = new scope.AnimationTimeline();\n  scope.timeline = timeline;\n\n  try {\n    Object.defineProperty(window.document, 'timeline', {\n      configurable: true,\n      get: function() { return timeline; }\n    });\n  } catch (e) { }\n  try {\n    window.document.timeline = timeline;\n  } catch (e) { }\n\n})(webAnimationsShared, webAnimationsNext, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, scope, testing) {\n  scope.animationsWithPromises = [];\n\n  scope.Animation = function(effect, timeline) {\n    this.id = '';\n    if (effect && effect._id) {\n      this.id = effect._id;\n    }\n    this.effect = effect;\n    if (effect) {\n      effect._animation = this;\n    }\n    if (!timeline) {\n      throw new Error('Animation with null timeline is not supported');\n    }\n    this._timeline = timeline;\n    this._sequenceNumber = shared.sequenceNumber++;\n    this._holdTime = 0;\n    this._paused = false;\n    this._isGroup = false;\n    this._animation = null;\n    this._childAnimations = [];\n    this._callback = null;\n    this._oldPlayState = 'idle';\n    this._rebuildUnderlyingAnimation();\n    // Animations are constructed in the idle state.\n    this._animation.cancel();\n    this._updatePromises();\n  };\n\n  scope.Animation.prototype = {\n    _updatePromises: function() {\n      var oldPlayState = this._oldPlayState;\n      var newPlayState = this.playState;\n      if (this._readyPromise && newPlayState !== oldPlayState) {\n        if (newPlayState == 'idle') {\n          this._rejectReadyPromise();\n          this._readyPromise = undefined;\n        } else if (oldPlayState == 'pending') {\n          this._resolveReadyPromise();\n        } else if (newPlayState == 'pending') {\n          this._readyPromise = undefined;\n        }\n      }\n      if (this._finishedPromise && newPlayState !== oldPlayState) {\n        if (newPlayState == 'idle') {\n          this._rejectFinishedPromise();\n          this._finishedPromise = undefined;\n        } else if (newPlayState == 'finished') {\n          this._resolveFinishedPromise();\n        } else if (oldPlayState == 'finished') {\n          this._finishedPromise = undefined;\n        }\n      }\n      this._oldPlayState = this.playState;\n      return (this._readyPromise || this._finishedPromise);\n    },\n    _rebuildUnderlyingAnimation: function() {\n      this._updatePromises();\n      var oldPlaybackRate;\n      var oldPaused;\n      var oldStartTime;\n      var oldCurrentTime;\n      var hadUnderlying = this._animation ? true : false;\n      if (hadUnderlying) {\n        oldPlaybackRate = this.playbackRate;\n        oldPaused = this._paused;\n        oldStartTime = this.startTime;\n        oldCurrentTime = this.currentTime;\n        this._animation.cancel();\n        this._animation._wrapper = null;\n        this._animation = null;\n      }\n\n      if (!this.effect || this.effect instanceof window.KeyframeEffect) {\n        this._animation = scope.newUnderlyingAnimationForKeyframeEffect(this.effect);\n        scope.bindAnimationForKeyframeEffect(this);\n      }\n      if (this.effect instanceof window.SequenceEffect || this.effect instanceof window.GroupEffect) {\n        this._animation = scope.newUnderlyingAnimationForGroup(this.effect);\n        scope.bindAnimationForGroup(this);\n      }\n      if (this.effect && this.effect._onsample) {\n        scope.bindAnimationForCustomEffect(this);\n      }\n      if (hadUnderlying) {\n        if (oldPlaybackRate != 1) {\n          this.playbackRate = oldPlaybackRate;\n        }\n        if (oldStartTime !== null) {\n          this.startTime = oldStartTime;\n        } else if (oldCurrentTime !== null) {\n          this.currentTime = oldCurrentTime;\n        } else if (this._holdTime !== null) {\n          this.currentTime = this._holdTime;\n        }\n        if (oldPaused) {\n          this.pause();\n        }\n      }\n      this._updatePromises();\n    },\n    _updateChildren: function() {\n      if (!this.effect || this.playState == 'idle')\n        return;\n\n      var offset = this.effect._timing.delay;\n      this._childAnimations.forEach(function(childAnimation) {\n        this._arrangeChildren(childAnimation, offset);\n        if (this.effect instanceof window.SequenceEffect)\n          offset += scope.groupChildDuration(childAnimation.effect);\n      }.bind(this));\n    },\n    _setExternalAnimation: function(animation) {\n      if (!this.effect || !this._isGroup)\n        return;\n      for (var i = 0; i < this.effect.children.length; i++) {\n        this.effect.children[i]._animation = animation;\n        this._childAnimations[i]._setExternalAnimation(animation);\n      }\n    },\n    _constructChildAnimations: function() {\n      if (!this.effect || !this._isGroup)\n        return;\n      var offset = this.effect._timing.delay;\n      this._removeChildAnimations();\n      this.effect.children.forEach(function(child) {\n        var childAnimation = scope.timeline._play(child);\n        this._childAnimations.push(childAnimation);\n        childAnimation.playbackRate = this.playbackRate;\n        if (this._paused)\n          childAnimation.pause();\n        child._animation = this.effect._animation;\n\n        this._arrangeChildren(childAnimation, offset);\n\n        if (this.effect instanceof window.SequenceEffect)\n          offset += scope.groupChildDuration(child);\n      }.bind(this));\n    },\n    _arrangeChildren: function(childAnimation, offset) {\n      if (this.startTime === null) {\n        childAnimation.currentTime = this.currentTime - offset / this.playbackRate;\n      } else if (childAnimation.startTime !== this.startTime + offset / this.playbackRate) {\n        childAnimation.startTime = this.startTime + offset / this.playbackRate;\n      }\n    },\n    get timeline() {\n      return this._timeline;\n    },\n    get playState() {\n      return this._animation ? this._animation.playState : 'idle';\n    },\n    get finished() {\n      if (!window.Promise) {\n        console.warn('Animation Promises require JavaScript Promise constructor');\n        return null;\n      }\n      if (!this._finishedPromise) {\n        if (scope.animationsWithPromises.indexOf(this) == -1) {\n          scope.animationsWithPromises.push(this);\n        }\n        this._finishedPromise = new Promise(\n            function(resolve, reject) {\n              this._resolveFinishedPromise = function() {\n                resolve(this);\n              };\n              this._rejectFinishedPromise = function() {\n                reject({type: DOMException.ABORT_ERR, name: 'AbortError'});\n              };\n            }.bind(this));\n        if (this.playState == 'finished') {\n          this._resolveFinishedPromise();\n        }\n      }\n      return this._finishedPromise;\n    },\n    get ready() {\n      if (!window.Promise) {\n        console.warn('Animation Promises require JavaScript Promise constructor');\n        return null;\n      }\n      if (!this._readyPromise) {\n        if (scope.animationsWithPromises.indexOf(this) == -1) {\n          scope.animationsWithPromises.push(this);\n        }\n        this._readyPromise = new Promise(\n            function(resolve, reject) {\n              this._resolveReadyPromise = function() {\n                resolve(this);\n              };\n              this._rejectReadyPromise = function() {\n                reject({type: DOMException.ABORT_ERR, name: 'AbortError'});\n              };\n            }.bind(this));\n        if (this.playState !== 'pending') {\n          this._resolveReadyPromise();\n        }\n      }\n      return this._readyPromise;\n    },\n    get onfinish() {\n      return this._animation.onfinish;\n    },\n    set onfinish(v) {\n      if (typeof v == 'function') {\n        this._animation.onfinish = (function(e) {\n          e.target = this;\n          v.call(this, e);\n        }).bind(this);\n      } else {\n        this._animation.onfinish = v;\n      }\n    },\n    get oncancel() {\n      return this._animation.oncancel;\n    },\n    set oncancel(v) {\n      if (typeof v == 'function') {\n        this._animation.oncancel = (function(e) {\n          e.target = this;\n          v.call(this, e);\n        }).bind(this);\n      } else {\n        this._animation.oncancel = v;\n      }\n    },\n    get currentTime() {\n      this._updatePromises();\n      var currentTime = this._animation.currentTime;\n      this._updatePromises();\n      return currentTime;\n    },\n    set currentTime(v) {\n      this._updatePromises();\n      this._animation.currentTime = isFinite(v) ? v : Math.sign(v) * Number.MAX_VALUE;\n      this._register();\n      this._forEachChild(function(child, offset) {\n        child.currentTime = v - offset;\n      });\n      this._updatePromises();\n    },\n    get startTime() {\n      return this._animation.startTime;\n    },\n    set startTime(v) {\n      this._updatePromises();\n      this._animation.startTime = isFinite(v) ? v : Math.sign(v) * Number.MAX_VALUE;\n      this._register();\n      this._forEachChild(function(child, offset) {\n        child.startTime = v + offset;\n      });\n      this._updatePromises();\n    },\n    get playbackRate() {\n      return this._animation.playbackRate;\n    },\n    set playbackRate(value) {\n      this._updatePromises();\n      var oldCurrentTime = this.currentTime;\n      this._animation.playbackRate = value;\n      this._forEachChild(function(childAnimation) {\n        childAnimation.playbackRate = value;\n      });\n      if (oldCurrentTime !== null) {\n        this.currentTime = oldCurrentTime;\n      }\n      this._updatePromises();\n    },\n    play: function() {\n      this._updatePromises();\n      this._paused = false;\n      this._animation.play();\n      if (this._timeline._animations.indexOf(this) == -1) {\n        this._timeline._animations.push(this);\n      }\n      this._register();\n      scope.awaitStartTime(this);\n      this._forEachChild(function(child) {\n        var time = child.currentTime;\n        child.play();\n        child.currentTime = time;\n      });\n      this._updatePromises();\n    },\n    pause: function() {\n      this._updatePromises();\n      if (this.currentTime) {\n        this._holdTime = this.currentTime;\n      }\n      this._animation.pause();\n      this._register();\n      this._forEachChild(function(child) {\n        child.pause();\n      });\n      this._paused = true;\n      this._updatePromises();\n    },\n    finish: function() {\n      this._updatePromises();\n      this._animation.finish();\n      this._register();\n      this._updatePromises();\n    },\n    cancel: function() {\n      this._updatePromises();\n      this._animation.cancel();\n      this._register();\n      this._removeChildAnimations();\n      this._updatePromises();\n    },\n    reverse: function() {\n      this._updatePromises();\n      var oldCurrentTime = this.currentTime;\n      this._animation.reverse();\n      this._forEachChild(function(childAnimation) {\n        childAnimation.reverse();\n      });\n      if (oldCurrentTime !== null) {\n        this.currentTime = oldCurrentTime;\n      }\n      this._updatePromises();\n    },\n    addEventListener: function(type, handler) {\n      var wrapped = handler;\n      if (typeof handler == 'function') {\n        wrapped = (function(e) {\n          e.target = this;\n          handler.call(this, e);\n        }).bind(this);\n        handler._wrapper = wrapped;\n      }\n      this._animation.addEventListener(type, wrapped);\n    },\n    removeEventListener: function(type, handler) {\n      this._animation.removeEventListener(type, (handler && handler._wrapper) || handler);\n    },\n    _removeChildAnimations: function() {\n      while (this._childAnimations.length)\n        this._childAnimations.pop().cancel();\n    },\n    _forEachChild: function(f) {\n      var offset = 0;\n      if (this.effect.children && this._childAnimations.length < this.effect.children.length)\n        this._constructChildAnimations();\n      this._childAnimations.forEach(function(child) {\n        f.call(this, child, offset);\n        if (this.effect instanceof window.SequenceEffect)\n          offset += child.effect.activeDuration;\n      }.bind(this));\n\n      if (this.playState == 'pending')\n        return;\n      var timing = this.effect._timing;\n      var t = this.currentTime;\n      if (t !== null)\n        t = shared.calculateIterationProgress(shared.calculateActiveDuration(timing), t, timing);\n      if (t == null || isNaN(t))\n        this._removeChildAnimations();\n    },\n  };\n\n  window.Animation = scope.Animation;\n\n  if (WEB_ANIMATIONS_TESTING) {\n    testing.webAnimationsNextAnimation = scope.Animation;\n  }\n\n})(webAnimationsShared, webAnimationsNext, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, scope, testing) {\n\n  var disassociate = function(effect) {\n    effect._animation = undefined;\n    if (effect instanceof window.SequenceEffect || effect instanceof window.GroupEffect) {\n      for (var i = 0; i < effect.children.length; i++) {\n        disassociate(effect.children[i]);\n      }\n    }\n  };\n\n  scope.removeMulti = function(effects) {\n    var oldParents = [];\n    for (var i = 0; i < effects.length; i++) {\n      var effect = effects[i];\n      if (effect._parent) {\n        if (oldParents.indexOf(effect._parent) == -1) {\n          oldParents.push(effect._parent);\n        }\n        effect._parent.children.splice(effect._parent.children.indexOf(effect), 1);\n        effect._parent = null;\n        disassociate(effect);\n      } else if (effect._animation && (effect._animation.effect == effect)) {\n        effect._animation.cancel();\n        effect._animation.effect = new KeyframeEffect(null, []);\n        if (effect._animation._callback) {\n          effect._animation._callback._animation = null;\n        }\n        effect._animation._rebuildUnderlyingAnimation();\n        disassociate(effect);\n      }\n    }\n    for (i = 0; i < oldParents.length; i++) {\n      oldParents[i]._rebuild();\n    }\n  };\n\n  function KeyframeList(effectInput) {\n    this._frames = shared.normalizeKeyframes(effectInput);\n  }\n\n  scope.KeyframeEffect = function(target, effectInput, timingInput, id) {\n    this.target = target;\n    this._parent = null;\n\n    timingInput = shared.numericTimingToObject(timingInput);\n    this._timingInput = shared.cloneTimingInput(timingInput);\n    this._timing = shared.normalizeTimingInput(timingInput);\n\n    this.timing = shared.makeTiming(timingInput, false, this);\n    this.timing._effect = this;\n    if (typeof effectInput == 'function') {\n      shared.deprecated('Custom KeyframeEffect', '2015-06-22', 'Use KeyframeEffect.onsample instead.');\n      this._normalizedKeyframes = effectInput;\n    } else {\n      this._normalizedKeyframes = new KeyframeList(effectInput);\n    }\n    this._keyframes = effectInput;\n    this.activeDuration = shared.calculateActiveDuration(this._timing);\n    this._id = id;\n    return this;\n  };\n\n  scope.KeyframeEffect.prototype = {\n    getFrames: function() {\n      if (typeof this._normalizedKeyframes == 'function')\n        return this._normalizedKeyframes;\n      return this._normalizedKeyframes._frames;\n    },\n    set onsample(callback) {\n      if (typeof this.getFrames() == 'function') {\n        throw new Error('Setting onsample on custom effect KeyframeEffect is not supported.');\n      }\n      this._onsample = callback;\n      if (this._animation) {\n        this._animation._rebuildUnderlyingAnimation();\n      }\n    },\n    get parent() {\n      return this._parent;\n    },\n    clone: function() {\n      if (typeof this.getFrames() == 'function') {\n        throw new Error('Cloning custom effects is not supported.');\n      }\n      var clone = new KeyframeEffect(this.target, [], shared.cloneTimingInput(this._timingInput), this._id);\n      clone._normalizedKeyframes = this._normalizedKeyframes;\n      clone._keyframes = this._keyframes;\n      return clone;\n    },\n    remove: function() {\n      scope.removeMulti([this]);\n    }\n  };\n\n  var originalElementAnimate = Element.prototype.animate;\n  Element.prototype.animate = function(effectInput, options) {\n    var id = '';\n    if (options && options.id) {\n      id = options.id;\n    }\n    return scope.timeline._play(new scope.KeyframeEffect(this, effectInput, options, id));\n  };\n\n  var nullTarget = document.createElementNS('http://www.w3.org/1999/xhtml', 'div');\n  scope.newUnderlyingAnimationForKeyframeEffect = function(keyframeEffect) {\n    if (keyframeEffect) {\n      var target = keyframeEffect.target || nullTarget;\n      var keyframes = keyframeEffect._keyframes;\n      if (typeof keyframes == 'function') {\n        keyframes = [];\n      }\n      var options = keyframeEffect._timingInput;\n      options.id = keyframeEffect._id;\n    } else {\n      var target = nullTarget;\n      var keyframes = [];\n      var options = 0;\n    }\n    return originalElementAnimate.apply(target, [keyframes, options]);\n  };\n\n  // TODO: Remove this once we remove support for custom KeyframeEffects.\n  scope.bindAnimationForKeyframeEffect = function(animation) {\n    if (animation.effect && typeof animation.effect._normalizedKeyframes == 'function') {\n      scope.bindAnimationForCustomEffect(animation);\n    }\n  };\n\n  var pendingGroups = [];\n  scope.awaitStartTime = function(groupAnimation) {\n    if (groupAnimation.startTime !== null || !groupAnimation._isGroup)\n      return;\n    if (pendingGroups.length == 0) {\n      requestAnimationFrame(updatePendingGroups);\n    }\n    pendingGroups.push(groupAnimation);\n  };\n  function updatePendingGroups() {\n    var updated = false;\n    while (pendingGroups.length) {\n      var group = pendingGroups.shift();\n      group._updateChildren();\n      updated = true;\n    }\n    return updated;\n  }\n  var originalGetComputedStyle = window.getComputedStyle;\n  Object.defineProperty(window, 'getComputedStyle', {\n    configurable: true,\n    enumerable: true,\n    value: function() {\n      scope.timeline._updateAnimationsPromises();\n      var result = originalGetComputedStyle.apply(this, arguments);\n      if (updatePendingGroups())\n        result = originalGetComputedStyle.apply(this, arguments);\n      scope.timeline._updateAnimationsPromises();\n      return result;\n    },\n  });\n\n  window.KeyframeEffect = scope.KeyframeEffect;\n  window.Element.prototype.getAnimations = function() {\n    return document.timeline.getAnimations().filter(function(animation) {\n      return animation.effect !== null && animation.effect.target == this;\n    }.bind(this));\n  };\n\n}(webAnimationsShared, webAnimationsNext, webAnimationsTesting));\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n(function(shared, scope, testing) {\n\n  var nullTarget = document.createElementNS('http://www.w3.org/1999/xhtml', 'div');\n\n  var sequenceNumber = 0;\n  scope.bindAnimationForCustomEffect = function(animation) {\n    var target = animation.effect.target;\n    var effectFunction;\n    var isKeyframeEffect = typeof animation.effect.getFrames() == 'function';\n    if (isKeyframeEffect) {\n      effectFunction = animation.effect.getFrames();\n    } else {\n      effectFunction = animation.effect._onsample;\n    }\n    var timing = animation.effect.timing;\n    var last = null;\n    timing = shared.normalizeTimingInput(timing);\n    var callback = function() {\n      var t = callback._animation ? callback._animation.currentTime : null;\n      if (t !== null) {\n        t = shared.calculateIterationProgress(shared.calculateActiveDuration(timing), t, timing);\n        if (isNaN(t))\n          t = null;\n      }\n      // FIXME: There are actually more conditions under which the effectFunction\n      // should be called.\n      if (t !== last) {\n        if (isKeyframeEffect) {\n          effectFunction(t, target, animation.effect);\n        } else {\n          effectFunction(t, animation.effect, animation.effect._animation);\n        }\n      }\n      last = t;\n    };\n\n    callback._animation = animation;\n    callback._registered = false;\n    callback._sequenceNumber = sequenceNumber++;\n    animation._callback = callback;\n    register(callback);\n  };\n\n  var callbacks = [];\n  var ticking = false;\n  function register(callback) {\n    if (callback._registered)\n      return;\n    callback._registered = true;\n    callbacks.push(callback);\n    if (!ticking) {\n      ticking = true;\n      requestAnimationFrame(tick);\n    }\n  }\n\n  function tick(t) {\n    var updating = callbacks;\n    callbacks = [];\n    updating.sort(function(left, right) {\n      return left._sequenceNumber - right._sequenceNumber;\n    });\n    updating = updating.filter(function(callback) {\n      callback();\n      var playState = callback._animation ? callback._animation.playState : 'idle';\n      if (playState != 'running' && playState != 'pending')\n        callback._registered = false;\n      return callback._registered;\n    });\n    callbacks.push.apply(callbacks, updating);\n\n    if (callbacks.length) {\n      ticking = true;\n      requestAnimationFrame(tick);\n    } else {\n      ticking = false;\n    }\n  }\n\n  scope.Animation.prototype._register = function() {\n    if (this._callback)\n      register(this._callback);\n  };\n\n})(webAnimationsShared, webAnimationsNext, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, scope, testing) {\n\n  function groupChildDuration(node) {\n    return node._timing.delay + node.activeDuration + node._timing.endDelay;\n  }\n\n  function constructor(children, timingInput, id) {\n    this._id = id;\n    this._parent = null;\n    this.children = children || [];\n    this._reparent(this.children);\n    timingInput = shared.numericTimingToObject(timingInput);\n    this._timingInput = shared.cloneTimingInput(timingInput);\n    this._timing = shared.normalizeTimingInput(timingInput, true);\n    this.timing = shared.makeTiming(timingInput, true, this);\n    this.timing._effect = this;\n\n    if (this._timing.duration === 'auto') {\n      this._timing.duration = this.activeDuration;\n    }\n  }\n\n  window.SequenceEffect = function() {\n    constructor.apply(this, arguments);\n  };\n\n  window.GroupEffect = function() {\n    constructor.apply(this, arguments);\n  };\n\n  constructor.prototype = {\n    _isAncestor: function(effect) {\n      var a = this;\n      while (a !== null) {\n        if (a == effect)\n          return true;\n        a = a._parent;\n      }\n      return false;\n    },\n    _rebuild: function() {\n      // Re-calculate durations for ancestors with specified duration 'auto'.\n      var node = this;\n      while (node) {\n        if (node.timing.duration === 'auto') {\n          node._timing.duration = node.activeDuration;\n        }\n        node = node._parent;\n      }\n      if (this._animation) {\n        this._animation._rebuildUnderlyingAnimation();\n      }\n    },\n    _reparent: function(newChildren) {\n      scope.removeMulti(newChildren);\n      for (var i = 0; i < newChildren.length; i++) {\n        newChildren[i]._parent = this;\n      }\n    },\n    _putChild: function(args, isAppend) {\n      var message = isAppend ? 'Cannot append an ancestor or self' : 'Cannot prepend an ancestor or self';\n      for (var i = 0; i < args.length; i++) {\n        if (this._isAncestor(args[i])) {\n          throw {\n            type: DOMException.HIERARCHY_REQUEST_ERR,\n            name: 'HierarchyRequestError',\n            message: message\n          };\n        }\n      }\n      var oldParents = [];\n      for (var i = 0; i < args.length; i++) {\n        isAppend ? this.children.push(args[i]) : this.children.unshift(args[i]);\n      }\n      this._reparent(args);\n      this._rebuild();\n    },\n    append: function()  {\n      this._putChild(arguments, true);\n    },\n    prepend: function()  {\n      this._putChild(arguments, false);\n    },\n    get parent() {\n      return this._parent;\n    },\n    get firstChild() {\n      return this.children.length ? this.children[0] : null;\n    },\n    get lastChild() {\n      return this.children.length ? this.children[this.children.length - 1] : null;\n    },\n    clone: function() {\n      var clonedTiming = shared.cloneTimingInput(this._timingInput);\n      var clonedChildren = [];\n      for (var i = 0; i < this.children.length; i++) {\n        clonedChildren.push(this.children[i].clone());\n      }\n      return (this instanceof GroupEffect) ?\n          new GroupEffect(clonedChildren, clonedTiming) :\n          new SequenceEffect(clonedChildren, clonedTiming);\n    },\n    remove: function() {\n      scope.removeMulti([this]);\n    }\n  };\n\n  window.SequenceEffect.prototype = Object.create(constructor.prototype);\n  Object.defineProperty(\n      window.SequenceEffect.prototype,\n      'activeDuration',\n      {\n        get: function() {\n          var total = 0;\n          this.children.forEach(function(child) {\n            total += groupChildDuration(child);\n          });\n          return Math.max(total, 0);\n        }\n      });\n\n  window.GroupEffect.prototype = Object.create(constructor.prototype);\n  Object.defineProperty(\n      window.GroupEffect.prototype,\n      'activeDuration',\n      {\n        get: function() {\n          var max = 0;\n          this.children.forEach(function(child) {\n            max = Math.max(max, groupChildDuration(child));\n          });\n          return max;\n        }\n      });\n\n  scope.newUnderlyingAnimationForGroup = function(group) {\n    var underlyingAnimation;\n    var timing = null;\n    var ticker = function(tf) {\n      var animation = underlyingAnimation._wrapper;\n      if (!animation) {\n        return;\n      }\n      if (animation.playState == 'pending') {\n        return;\n      }\n      if (!animation.effect) {\n        return;\n      }\n      if (tf == null) {\n        animation._removeChildAnimations();\n        return;\n      }\n\n      // If the group has a negative playback rate and is not fill backwards/both, then it should go\n      // out of effect when it reaches the start of its active interval (tf == 0). If it is fill\n      // backwards/both then it should stay in effect. calculateIterationProgress will return 0 in the\n      // backwards-filling case, and null otherwise.\n      if (tf == 0 && animation.playbackRate < 0) {\n        if (!timing) {\n          timing = shared.normalizeTimingInput(animation.effect.timing);\n        }\n        tf = shared.calculateIterationProgress(shared.calculateActiveDuration(timing), -1, timing);\n        if (isNaN(tf) || tf == null) {\n          animation._forEachChild(function(child) {\n            child.currentTime = -1;\n          });\n          animation._removeChildAnimations();\n          return;\n        }\n      }\n    };\n\n    var underlyingEffect = new KeyframeEffect(null, [], group._timing, group._id);\n    underlyingEffect.onsample = ticker;\n    underlyingAnimation = scope.timeline._play(underlyingEffect);\n    return underlyingAnimation;\n  };\n\n  scope.bindAnimationForGroup = function(animation) {\n    animation._animation._wrapper = animation;\n    animation._isGroup = true;\n    scope.awaitStartTime(animation);\n    animation._constructChildAnimations();\n    animation._setExternalAnimation(animation);\n  };\n\n  scope.groupChildDuration = groupChildDuration;\n\n})(webAnimationsShared, webAnimationsNext, webAnimationsTesting);\n"],"sourceRoot":""}