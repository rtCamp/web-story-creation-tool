{"version":3,"sources":["webpack:///./node_modules/colorthief/dist/color-thief.mjs"],"names":["t","map","r","n","o","index","call","slice","naturalOrder","sum","reduce","e","max","Math","apply","i","sort","push","peek","length","pop","size","debug","u","this","r1","r2","g1","g2","b1","b2","histo","a","vboxes","vbox","count","volume","s","copy","h","c","f","v","l","forEach","min","prototype","_volume","_count_set","_count","avg","_avg","contains","gval","bval","color","palette","nearest","sqrt","pow","forcebw","quantize","Array","g","p","b","canvas","document","createElement","context","getContext","width","naturalWidth","height","naturalHeight","drawImage","getImageData","getColor","getPalette","colorCount","quality","Number","isInteger","Error","data","getColorFromUrl","addEventListener","src","XMLHttpRequest","open","responseType","onload","status","Uint8Array","response","String","fromCharCode","join","window","btoa","send","getColorAsync"],"mappings":"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","file":"js/chunk-colorthief.js","sourcesContent":["if(!t)var t={map:function(t,r){var n={};return r?t.map(function(t,o){return n.index=o,r.call(n,t)}):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,r){var n={};return t.reduce(r?function(t,o,e){return n.index=e,t+r.call(n,o)}:function(t,r){return t+r},0)},max:function(r,n){return Math.max.apply(null,n?t.map(r,n):r)}};var r=function(){var r=5,n=8-r,o=1e3;function e(t,n,o){return(t<<2*r)+(n<<r)+o}function i(t){var r=[],n=!1;function o(){r.sort(t),n=!0}return{push:function(t){r.push(t),n=!1},peek:function(t){return n||o(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return n||o(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return n||o(),r}}}function u(t,r,n,o,e,i,u){this.r1=t,this.r2=r,this.g1=n,this.g2=o,this.b1=e,this.b2=i,this.histo=u}function a(){this.vboxes=new i(function(r,n){return t.naturalOrder(r.vbox.count()*r.vbox.volume(),n.vbox.count()*n.vbox.volume())})}function s(r,n){if(n.count()){var o=n.r2-n.r1+1,i=n.g2-n.g1+1,u=t.max([o,i,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var a,s,h,c,f=0,v=[],l=[];if(u==o)for(a=n.r1;a<=n.r2;a++){for(c=0,s=n.g1;s<=n.g2;s++)for(h=n.b1;h<=n.b2;h++)c+=r[e(a,s,h)]||0;v[a]=f+=c}else if(u==i)for(a=n.g1;a<=n.g2;a++){for(c=0,s=n.r1;s<=n.r2;s++)for(h=n.b1;h<=n.b2;h++)c+=r[e(s,a,h)]||0;v[a]=f+=c}else for(a=n.b1;a<=n.b2;a++){for(c=0,s=n.r1;s<=n.r2;s++)for(h=n.g1;h<=n.g2;h++)c+=r[e(s,h,a)]||0;v[a]=f+=c}return v.forEach(function(t,r){l[r]=f-t}),function(t){var r,o,e,i,u,s=t+\"1\",h=t+\"2\",c=0;for(a=n[s];a<=n[h];a++)if(v[a]>f/2){for(e=n.copy(),i=n.copy(),u=(r=a-n[s])<=(o=n[h]-a)?Math.min(n[h]-1,~~(a+o/2)):Math.max(n[s],~~(a-1-r/2));!v[u];)u++;for(c=l[u];!c&&v[u-1];)c=l[--u];return e[h]=u,i[s]=e[h]+1,[e,i]}}(u==o?\"r\":u==i?\"g\":\"b\")}}return u.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var r=this.histo;if(!this._count_set||t){var n,o,i,u=0;for(n=this.r1;n<=this.r2;n++)for(o=this.g1;o<=this.g2;o++)for(i=this.b1;i<=this.b2;i++)u+=r[e(n,o,i)]||0;this._count=u,this._count_set=!0}return this._count},copy:function(){return new u(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var o,i,u,a,s=0,h=1<<8-r,c=0,f=0,v=0;for(i=this.r1;i<=this.r2;i++)for(u=this.g1;u<=this.g2;u++)for(a=this.b1;a<=this.b2;a++)s+=o=n[e(i,u,a)]||0,c+=o*(i+.5)*h,f+=o*(u+.5)*h,v+=o*(a+.5)*h;this._avg=s?[~~(c/s),~~(f/s),~~(v/s)]:[~~(h*(this.r1+this.r2+1)/2),~~(h*(this.g1+this.g2+1)/2),~~(h*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var r=t[0]>>n;return gval=t[1]>>n,bval=t[2]>>n,r>=this.r1&&r<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},a.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,n=0;n<r.size();n++)if(r.peek(n).vbox.contains(t))return r.peek(n).color;return this.nearest(t)},nearest:function(t){for(var r,n,o,e=this.vboxes,i=0;i<e.size();i++)((n=Math.sqrt(Math.pow(t[0]-e.peek(i).color[0],2)+Math.pow(t[1]-e.peek(i).color[1],2)+Math.pow(t[2]-e.peek(i).color[2],2)))<r||void 0===r)&&(r=n,o=e.peek(i).color);return o},forcebw:function(){var r=this.vboxes;r.sort(function(r,n){return t.naturalOrder(t.sum(r.color),t.sum(n.color))});var n=r[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(r[0].color=[0,0,0]);var o=r.length-1,e=r[o].color;e[0]>251&&e[1]>251&&e[2]>251&&(r[o].color=[255,255,255])}},{quantize:function(h,c){if(!h.length||c<2||c>256)return!1;var f=function(t){var o,i=new Array(1<<3*r);return t.forEach(function(t){o=e(t[0]>>n,t[1]>>n,t[2]>>n),i[o]=(i[o]||0)+1}),i}(h);f.forEach(function(){});var v=function(t,r){var o,e,i,a=1e6,s=0,h=1e6,c=0,f=1e6,v=0;return t.forEach(function(t){(o=t[0]>>n)<a?a=o:o>s&&(s=o),(e=t[1]>>n)<h?h=e:e>c&&(c=e),(i=t[2]>>n)<f?f=i:i>v&&(v=i)}),new u(a,s,h,c,f,v,r)}(h,f),l=new i(function(r,n){return t.naturalOrder(r.count(),n.count())});function g(t,r){for(var n,e=t.size(),i=0;i<o;){if(e>=r)return;if(i++>o)return;if((n=t.pop()).count()){var u=s(f,n),a=u[0],h=u[1];if(!a)return;t.push(a),h&&(t.push(h),e++)}else t.push(n),i++}}l.push(v),g(l,.75*c);for(var p=new i(function(r,n){return t.naturalOrder(r.count()*r.volume(),n.count()*n.volume())});l.size();)p.push(l.pop());g(p,c);for(var b=new a;p.size();)b.push(p.pop());return b}}}().quantize,n=function(t){this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};n.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var o=function(){};o.prototype.getColor=function(t,r){return void 0===r&&(r=10),this.getPalette(t,5,r)[0]},o.prototype.getPalette=function(t,o,e){var i=function(t){var r=t.colorCount,n=t.quality;if(void 0!==r&&Number.isInteger(r)){if(1===r)throw new Error(\"colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()\");r=Math.max(r,2),r=Math.min(r,20)}else r=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:r,quality:n}}({colorCount:o,quality:e}),u=new n(t),a=function(t,r,n){for(var o=t,e=[],i=0,u=void 0,a=void 0,s=void 0,h=void 0,c=void 0;i<r;i+=n)a=o[0+(u=4*i)],s=o[u+1],h=o[u+2],(void 0===(c=o[u+3])||c>=125)&&(a>250&&s>250&&h>250||e.push([a,s,h]));return e}(u.getImageData().data,u.width*u.height,i.quality),s=r(a,i.colorCount);return s?s.palette():null},o.prototype.getColorFromUrl=function(t,r,n){var o=this,e=document.createElement(\"img\");e.addEventListener(\"load\",function(){var i=o.getPalette(e,5,n);r(i[0],t)}),e.src=t},o.prototype.getImageData=function(t,r){var n=new XMLHttpRequest;n.open(\"GET\",t,!0),n.responseType=\"arraybuffer\",n.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var n=new Array(i),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);var e=n.join(\"\"),u=window.btoa(e);r(\"data:image/png;base64,\"+u)}},n.send()},o.prototype.getColorAsync=function(t,r,n){var o=this;this.getImageData(t,function(t){var e=document.createElement(\"img\");e.addEventListener(\"load\",function(){var t=o.getPalette(e,5,n);r(t[0],this)}),e.src=t})};export default o;\n"],"sourceRoot":""}